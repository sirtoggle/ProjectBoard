<h2>{{ project.project_name }}</h2>
<p><strong>Requester:</strong> {{ project.requester }}</p>
<p><strong>Status:</strong> {{ project.status }}</p>
<p><strong>Group:</strong> {{ project.group }}</p>
<p><strong>Priority:</strong> {{ project.priority }}</p>
<p><strong>Due Date:</strong> {{ project.due_date }}</p>

<hr>

<h3>Add Attachment</h3>
<form method="POST" enctype="multipart/form-data">
    <input type="file" name="file" required>
    <button type="submit">Upload</button>
</form>

<hr>

<h3>Attachments</h3>
{% if project.attachments %}
    {% for att in project.attachments %}
        <div style="margin-bottom: 20px; border: 1px solid #ccc; padding: 10px;">
            <p> ðŸ“Ž {{ att.filename }} (uploaded {{ att.uploaded_at.strftime('%m-%d-%Y') }})</p>

            {% if att.filename.lower().endswith(('.png', '.jpg', '.jpeg', '.gif')) %}
                <img src="{{ url_for('static', filename='uploads/' ~ att.filename) }}"
                     alt="{{ att.filename }}"
                     style="max-width: 100%; height: auto; border: 1px solid #aaa;">
            {% elif att.filename.lower().endswith('.pdf') %}
                <embed src="{{ url_for('static', filename='uploads/' ~ att.filename) }}"
                       type="application/pdf"
                       width="100%"
                       height="600px" />
                <p><a href="{{ url_for('static', filename='uploads/' ~ att.filename) }}" target="_blank">Open PDF in new tab</a></p>
            {% else %}
                <a href="{{ url_for('static', filename='uploads/' ~ att.filename) }}"
                   target="_blank">
                       Download {{ att.filename }}
                </a>
            {% endif %}
        </div>
    {% endfor %}
{% else %}
    <p>No attachments yet.</p>
{% endif %}

<br>
<a href="{{ url_for('index') }}">Back to board</a>
